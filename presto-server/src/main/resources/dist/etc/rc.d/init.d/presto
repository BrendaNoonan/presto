#!/bin/bash

SCRIPT_NAME=$0
ACTION_NAME=$1
SERVICE_NAME='presto'
# Just use default params for now
CONFIGURATION='--launcher-config /usr/lib/presto/bin/launcher.properties  --node-config /etc/presto/node.properties --jvm-config /etc/presto/jvm.config --config /etc/presto/config.properties --data-dir /var/lib/presto/data  --launcher-log-file /var/log/presto/launcher.log --server-log-file /var/log/presto/server.log'

start () {
    echo "Starting ${SERVICE_NAME} "
    /usr/lib/presto/bin/launcher start ${CONFIGURATION}
    return $?
}

stop () {
    echo "Stopping ${SERVICE_NAME} "
    /usr/lib/presto/bin/launcher stop ${CONFIGURATION}
    return $?
}

restart () {
    stop && start
    return $?
}

# TODO: Add status, kill

usage () {
    echo $"Usage: ${SCRIPT_NAME} {start|stop|restart}"
    return 3
}

case "${ACTION_NAME}" in
        start)
        start
        ;;
    stop)
        stop
        ;;
    restart)
        restart
        ;;
    *)
        echo $"Usage: $0 {start|stop|restart}"
        exit 3
esac